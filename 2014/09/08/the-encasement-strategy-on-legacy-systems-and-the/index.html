<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Basic Page Needs
================================================== -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="vmVo2wbQpKGMHVpllQP7bQ0w5gICWD356VH9DNbv5f4" />


<!-- Mobile Specific Metas
================================================== -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<!-- RSS feeds
================================================== -->

<link rel="alternate" type="application/rss+xml" title="18F Digital Services Delivery &raquo; Feed" href="/feed/" />

<!-- Twitter and OpenGraph data
================================================== -->
<meta name="twitter:site" content="@18F">
<meta name="twitter:creator" content="@18F">
<meta property="og:site_name" content="18F Digital Services Delivery" />
<meta property="og:type" content="website" />

<meta property="og:url" content="https://18f.gsa.gov/2014/09/08/the-encasement-strategy-on-legacy-systems-and-the/" />
<link rel="canonical" href="https://18f.gsa.gov/2014/09/08/the-encasement-strategy-on-legacy-systems-and-the/" />

<!-- title, description, and image may change per-page, per-post -->

  <title>18F &mdash; The encasement strategy: on legacy systems and the importance of APIs</title>
  <meta property="og:title" content="The encasement strategy: on legacy systems and the importance of APIs" />


  <meta name="description" content="In 1986 a nuclear reactor known as Chernobyl released harmful radioactivity which spread over much of the western USSR and Europe. The core of this reactor remains a glowing, ineradicable mass of deadly radioactive lava in the middle of a large Exclusion Zone unfit for human habitation.">
  <meta property="og:description" content="In 1986 a nuclear reactor known as Chernobyl released harmful radioactivity which spread over much of the western USSR and Europe. The core of this reactor remains a glowing, ineradicable mass of deadly radioactive lava in the middle of a large Exclusion Zone unfit for human habitation." />


<!-- use large summary card for posts with images, normal summary otherwise -->

  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:image" content="https://18f.gsa.gov/assets/blog/encasement/encasement1.png" />



<!-- Favicons
================================================== -->
<!-- 128x128 -->
<link rel="shortcut icon" type="image/ico" href="/assets/images/favicons/favicon.ico" />
<link rel="icon" type="image/png" href="/assets/images/favicons/favicon.png" />

<!-- 192x192, as recommended for Android
http://updates.html5rocks.com/2014/11/Support-for-theme-color-in-Chrome-39-for-Android
-->
<link rel="icon" type="image/png" sizes="192x192" href="/assets/images/favicons/18f-center-192.png" />

<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/assets/images/favicons/18f-center-57.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/images/favicons/18f-center-72.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/images/favicons/18f-center-114.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/images/favicons/18f-center-144.png">

<!-- Mobile "theme" -->
<meta name="theme-color" content="#1188ff" />

<!-- CSS
================================================== -->
<link href="/assets/css/google-fonts.css" rel="stylesheet">
<link href="/assets/css/font-awesome.min.css" rel="stylesheet">
<link href="/assets/css/fonts.css" rel="stylesheet">
<link href="/assets/css/normalize.css" rel="stylesheet">
<link href="/assets/css/styles.css" rel="stylesheet">
<link href="/assets/css/pygments-theme.css" rel="stylesheet">

<!-- IE
================================================== -->
<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
  <link href="/assets/css/ie8/ie.css" rel="stylesheet">
<![endif]-->

<!--
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssso        osssssssssso/-.```.-/osssssssssss:            -ossssss
sssssssssssssssssssssssssssssssssssss++++++-  osssssssso-  `-///-`  -osssssssss-  -+++++++++-ossssss
sssssssssssssssssssssssssssssssssssssssssss-  ossssssso. `/ossssso/` .ossssssss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  osssssss/  /sssssssss/  /ssssssss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  osssssss/  /sssssssss/  /ssssssss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  ossssssso. `/sssssss/` `ossssssss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  osssssssso-  .:///:.  -osssssssss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  ossssssss+:`   ````   -/ossssssss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  ossssss/.` .:++oooo+/-` `:ossssss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  osssso-  -+osssssssssso/` `/sssss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  ossso. `/ssssssssssssssso-  /ssss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  osss-  /ssssssssssssssssso. `osss-            -sssssss
sssssssssssssssssssssssssssssssssssssssssss-  osss  `sssssssssssssssssss/  /sss-  -+++++++++-sssssss
sssssssssssssssssssssssssssssssssssssssssss-  osss  .sssssssssssssssssss/  :sss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  osss.  ossssssssssssssssss-  +sss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  osss+` .ossssssssssssssss:  -ssss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  ossss+` `/ossssssssssss+-  -sssss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  ossssso:` `:+oooooooo/-  .+ssssss-  osssssssssssssssss
sssssssssssssssssssssssssssssssssssssssssss-  ossssssso/.` ``....`  `-+ssssssss-  osssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssso++ssssssssssso+/::-:://osssssssssss+++ssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss
ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss

Hi there! Great job on pulling back the curtain.
We're always looking for curious people with diverse skill-sets. Let's talk at 18f@gsa.gov

-->


</head>
<body itemscope itemtype="http://schema.org/WebPage">

<aside class="usa">
  <div class="container">
    <p>
      An official website of the United States Government <img alt="US flag
signifying that this is a United States Federal Government website"
src="/assets/images/us_flag_small.png">
    </p>
  </div>
</aside>


<section class="container bare">
	<a href="#main" class="skips">Skip to main content</a>
<nav class="global-nav ">
  <a href="#" class="toggle">Menu</a>
  <a href="#" class="toggle hidden">Close</a>
  <ul class="hidden global-nav-links">
    <li class="global-nav-link"><a href="/dashboard">Work</a></li>
    <li class="global-nav-link"><a href="/team">People</a></li>
    <li class="global-nav-link"><a href="/consulting">Consulting</a></li>
    <li class="global-nav-link"><a href="https://pages.18f.gov/joining-18f/">Join</a></li>
  </ul>
  <span class="sep">|</span>
  <ul class="hidden global-nav-links">
    <li class="global-nav-link"><a href="/blog">Blog</a></li>
    <li class="global-nav-link"><a href="/#newsletter">Newsletter</a></li>
    <li class="global-nav-link"><a href="/">Home</a></li>
  </ul>
</nav>

	<div class="bare-logo" role="banner" itemscope itemtype="http://schema.org/WPHeader">
    <a href="/">
      <i class="icon-18f-logo"><p style="display:none;">18F</p></i>
    </a>
  
  </div>

  <div id="main" class="bare-content" role="main" itemscope itemprop="mainContentOfPage">

    <section class="blog-posting" itemprop="blogPosts" itemscope itemtype="http://schema.org/BlogPosting">

      <h1><a href="/2014/09/08/the-encasement-strategy-on-legacy-systems-and-the/">The encasement strategy: on legacy systems and the importance of APIs</a></h1>

      <time datetime="2014-09-08T00:00:00+00:00" itemprop="datePublished">September 8, 2014 </time>

      <p>
        Tagged /
        <span class="blog-tags" itemprop="keywords">
          
            <a href="/tags/api">api</a>
            /
          
            <a href="/tags/how-we-work">how we work</a>
            /
          
        </span>
      </p>
      
<p class="authors">
  by 
  <span class="author robert" style="color: #000">
    Dr. Robert L. Read,  and 
  
  <span class="author mhz" style="color: #000">
    <a href=/team/mhz>Michelle Hertzfeld</a>
  </span>
</p>


      <p>In 1986 a nuclear reactor known as <a href="https://en.wikipedia.org/wiki/Chernobyl_disaster">Chernobyl</a> released harmful radioactivity which spread over much of the western USSR and Europe. The core of this reactor remains a glowing, ineradicable mass of deadly radioactive lava in the middle of a large Exclusion Zone unfit for human habitation.</p>

<!-- more -->

<p>The Chernobyl reactor core could not be removed. It was and is too big, too hot, and there is no where for it to go. Instead, it was entombed in a concrete sarcophagus where it will radiate harmlessly for decades if not centuries. This was unfortunately the best outcome that could be achieved. In the software industry, I’ve often seen this same approach used with legacy software systems. I call it <em>The Encasement Strategy</em>.</p>

<p>Legacy systems make everyone that has to touch them queasy, from the software engineers to the managers. But most especially there comes a time when the system no longer serves the most important constituent of all, the customer. This not only contributes to inefficiency, but can sometimes have detrimental effects on the users of a system.</p>

<p><img src="/assets/blog/encasement/encasement1.png" alt="legacy software can be toxic to customers and stakeholders"/></p>

<p>Like Chernobyl, these systems are toxic; but unlike a power plant, what they once produced is not fungible with other sources. There is often no replacement for the legacy system.</p>

<p><strong>The basic mechanism for remediating such a system comes straight out of Computer Programming 101: you create a well-designed interface.</strong> In modern terms, this is an <em>Application Programming Interface</em> or API. That term API used to be more general, but now it almost always connotes a web-based interface accessed through HTTP and usually using JSON as its data format.</p>

<p>An API is an <em>inter-face</em>, a face, a façade or a wall <em>between</em>. It allows the user blissful ignorance of what precisely is behind the wall. You need only worry about what comes and goes through the gate. What lies beyond—whether it’s magic, or a red-hot mass of legacy code—is no longer the user’s concern.The customers on the user side of the API are protected from the toxins, leaving the engineers to deal with implementation.</p>

<p><img src="/assets/blog/encasement/encasement2.png" alt=""/></p>

<p>There is something magical about this basic act of defining an interface. To paraphrase <a href="https://bfi.org/about-fuller">Buckminster Fuller</a>, to <em>define</em> is <em>divine</em>. It creates something simple and understandable from nothing, something you can grab onto, something solid.</p>

<p><strong>By defining an API, you can begin to immediately serve the customer, because you can build a modern GUI on top of it, unencumbered by the legacy of the past.</strong> You can begin to build what history has shown needs to be built to serve the customer, whether that is the US citizen at large, or a division of an office, or a bureau of an agency. You may choose to allow outsiders to directly make calls to your API, but even if you do not do this, you can create independence of the legacy technology.</p>

<p>Sometimes, such an API can be constructed based on a clear engineering understanding of the internals of the legacy system. This is the best approach; however, it may be impractical if the knowledge and understanding of the system has been lost. In such a case, programmers are wont to resort to reverse engineering solutions, as I did <a href="https://github.com/18F/gsa-advantage-scrape">recently</a>. Any system which offers a <a href="https://en.wikipedia.org/wiki/Graphical_user_interface">GUI</a> (graphical user interface) to users can be reverse engineered to construct a programmatic interface on top of that interface. We generally call this <a href="https://en.wikipedia.org/wiki/Web_scraping">scraping</a> the GUI, and it isn&#8217;t pretty. It leads to the absurd architectural diagram of a GUI on top of an API on top of a GUI on top of a miasma. But it gets the job done, and that is what a pragmatic software engineer must care about: serving the customer.</p>

<p><img src="/assets/blog/encasement/encasement3.png" alt="build an API and an interface to scrape information from a legacy system"/></p>

<p>Once a valuable API is defined, there is a wall between decisions about how to effectively use the API that completely divorces them from decisions about what to do with the code that implements the API. Efforts to rewrite the legacy system may proceed mostly independent of the efforts to build functionality that uses the API. Or, efforts to rewrite it may not proceed at all—the Encasement Strategy.</p>

<p>As an engineer who loves hard problems, the idea of leaving a legacy system in place and not attempting to rewrite it is a serious challenge. But I think we should always make that decision independent of decisions on how to best serve the customer.</p>

<p>Let us work through a highly contrived thought experiment. Imagine that 100 years from now there is a team of 5 highly skilled specialists, known as <em>Software Conservationists</em>. Their sole job is to maintain the sealed-off core of the legacy system which is STILL implementing an API that serves the US Citizen. Just like Art Conservationists working at the Smithsonian today, future citizens could train to do it.</p>

<p>The Software Conservationists are employed because of two decisions made today:</p>

<ol><li>A decision to create an API </li>
<li>A decision not to rewrite the legacy system </li>
</ol><p>Let us say that it costs $1,000,000 present-day dollars to maintain this team every year from now until the <a href="https://en.wikipedia.org/wiki/Corium_(nuclear_reactor)">corium</a> in Chernobyl is no longer hot.</p>

<p>How much money would you have to save this year in order to justify paying out an annuity of $1,000,000? Assuming that one could obtain a risk-free 3% after-inflation return on an investment (or, in accounting terms, <a href="https://en.wikipedia.org/wiki/Discount_rate">discount rate</a> of 3%), how much money would you have to save to justify making a decision today that creates the Software Conservationists profession a century from now? The answer is an elementary <a href="http://www.ultimatecalculators.com/present_value_annuity_calculator.html">present value calculation</a>: $34 million or more.</p>

<p>If a realist who is keeping her users top of mind can save the US Taxpayer $34 million today, she should employ the Encasement Strategy and not be ashamed of it. Such a realist should of course recognize the long-term effects of Software Conservation versus the creation of a new, modern system.</p>

<p>Whether the details of your toxic system lead you to begin the legacy rewrite immediately or to employ the Encasement Strategy of delaying the rewrite indefinitely, get started on a <a href="http://apievangelist.com">well-designed API</a> today.</p>

<p><strong>Postscript</strong></p>

<p>After this article was published, a kind tweet by David Illsley suggested that this was the <a href="http://martinfowler.com/bliki/StranglerApplication.html">Strangler Pattern</a> which Martin Fowler has blogged about.  Martin Fowler credits a <a href="http://cdn.pols.co.uk/papers/agile-approach-to-legacy-systems.pdf">paper</a> by Chris Stevenson and Andy Pols as the initiator of this idea, and further more references a set of <a href="http://paulhammant.com/2013/07/14/legacy-application-strangulation-case-studies/">case studies</a> collected by Paul Hammant.</p>


    </section>

    
        <section class="blog-pagination">
          <div>
            
              <a href="/2014/09/04/a-new-look-at-the-freedom-of-information-act/">
                <h1><i class="fa fa-chevron-left"></i> Previous Post</h1>
                <p>&ldquo;A new look at the Freedom of Information Act&rdquo;</p>
              </a>
            
          </div>
          <div>
            
                <a href="/2014/09/15/say-hello-to-the-new-presidential-innovation-fellows/">
                  <h1>Next Post <i class="fa fa-chevron-right"></i></h1>
                  <p>&ldquo;Say hello to the new Presidential Innovation Fellows&rdquo;</p>
                </a>
            
          </div>
        </section>
    

    <section class="blog-related">
      <h1>Related Posts</h1>
      <ul><li><a href='/2015/09/14/college-scorecard-launch/' class='related_posts'>&ldquo;Behind the scenes: Building a new College Scorecard with students&rdquo;</a></li><li><a href='/2015/07/15/openfec-api-update/' class='related_posts'>&ldquo;67 million more Federal Election Commission records at your fingertips&rdquo;</a></li><li><a href='/2015/04/23/the-dat-team-talks-data-streams/' class='related_posts'>&ldquo;The dat team talks data Streams&rdquo;</a></li></ul
    </section>
    <aside class="blog-follow-us">
      <h1>Follow the latest news from 18F</h1>
      <ul>
        <li><i class="fa fa-twitter"></i> <a href="https://twitter.com/18f">@18F</a></li>
        <li><i class="fa fa-rss"></i> <a href="/feed/">18F News Feed</a></li>
      </ul>

      <!-- <i class="fa fa-github"></i> <a href="https://github.com/18f">GitHub / 18F</a> -->

    </aside>

  </div>

</section>

  <footer class="footer usa-footer usa-footer-big">
  <div class="container usa-footer-primary-section">
    <div class="usa-grid-full">
        <div class="usa-width-one-sixth footer-content">
          <img src="/assets/images/logo-gsa.png" alt="GSA logo">
          <div>
            <a href="https://github.com/18f"><img src="/assets/images/always-be-shipping_orange.png" alt="Always Be Shipping."></a>
          </div>
        </div>
          <div class="usa-width-one-sixth usa-footer-primary-content footer-content" itemscope itemtype="http://schema.org/ContactPoint">
            <h1>Work</h1>
              <a href="/delivery" title="Delivery">Delivery</a>
              </br>
              <a href="/consulting" title="Consulting">Consulting</a>
              </br>
              <a href="/dashboard" title="Dashboard">Dashboard</a>
              <br/>
              <a href="https://github.com/18F"><i class="fa fa-github" title="18F GitHub page"></i> github.com/18F</a>
          </div>
          <div class="usa-width-one-sixth usa-footer-primary-content footer-content">
            <h1>People</h1>
              <a href="/team" title="18F People">Team</a>
              </br>
              <a href="https://pages.18f.gov/joining-18f/" title="Joining 18F">Join us</a>
          </div>
          <div class="usa-width-one-sixth usa-footer-primary-content footer-content">
            <h1> Resources </h1>
              <a href="/blog" title="18F Blog">Blog</a>
              </br>
              <a href="https://pages.18f.gov/guides" title="18F Guides">Guides</a>
              </br>
              <a href="/developer/" title="Developer program">Developer program</a>
            </a>
          </div>
          <div class="usa-width-one-sixth usa-footer-primary-content footer-content">
            <h1>Policies</h1>
              <a href="/linking-policy/" title="18F Linking policy">Linking</a>
              <br/>
              <a href="https://github.com/18F/open-source-policy" title="18F Open source policy">Open source</a>
              <br/>
              <a href="https://github.com/18F/18f.gsa.gov/edit/staging/_posts/2014-09-08-the-encasement-strategy-on-legacy-systems-and-the.html" title="Edit this page">Edit this page</a>
          </div>
          <div class="usa-width-one-sixth usa-footer-primary-content footer-content">
             <h1>Contact Us</h1>
                <a href="/press" title="Press">Press</a>
                <br/>
                <a href="https://twitter.com/18F"><i class="fa fa-twitter" title="18F Twitter"></i> @18F</a>
                </br>
                <a href="mailto:18f@gsa.gov" itemprop="email"><i class="fa fa-envelope" title= "email 18F"></i> 18F@gsa.gov</a>
          </div>
    </div>
  </div>
</footer>

  <!-- JS
================================================== -->
<script src="/assets/js/jquery-2.1.1.min.js"></script>
<script src="/assets/js/responsiveslides.min.js"></script>


<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if IE 9 ]>
  <script src="/assets/js/ie8/html5shiv.js"></script>
  <script src="/assets/js/ie8/respond.js"></script>
-->

<!--
  IE detection, used to guide console formatting in subsequent include
-->
<script type="text/javascript">window._ie9 = false;</script>

<!--[if IE 9 ]>
  <script type="text/javascript">window._ie9 = true;</script>
<![endif]-->

<!--
 IE10 JS targeting: https://stackoverflow.com/a/17099988
 IE11 JS targeting: https://stackoverflow.com/a/17447695
-->
<script type="text/javascript">
  window._ie10 = ("onpropertychange" in document && !!window.matchMedia);
  window._ie11 = !!navigator.userAgent.match(/Trident\/7.0; rv 11/);
  window._ie = window._ie9 || window._ie10 || window._ie11;
</script>

<!-- Browser warning, console message -->
<script src="/assets/js/18f.js"></script>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-48605964-1', 'gsa.gov');

  // anonymize user IPs (chops off the last IP triplet)
  ga('set', 'anonymizeIp', true);

  // forces HTTPS even if the page were somehow loaded over http://
  ga('set', 'forceSSL', true);

  ga('send', 'pageview');
</script>

<!-- Digital Analytics Program roll-up, see https://analytics.usa.gov for data -->
<script id="_fed_an_ua_tag" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=GSA"></script>


</body>
</html>
